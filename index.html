<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canlı Yayın Akışı</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <h1>Canlı Yayın Akışı</h1>
    <p>Bu sayfadaki yayınlar yerel belleğinizden yüklenmektedir.</p>
    <div id="broadcasts-container">
        </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const broadcasts = JSON.parse(localStorage.getItem('broadcasts')) || [];
        const container = document.getElementById('broadcasts-container');

        if (broadcasts.length === 0) {
            container.innerHTML = '<p style="text-align:center;">Henüz bir yayın eklenmemiş.</p>';
            return;
        }

        broadcasts.reverse().forEach(url => {
            const broadcastId = url.split('/').pop();
            
            const blockquote = document.createElement('blockquote');
            blockquote.className = "twitter-tweet";
            blockquote.setAttribute("data-media-id", broadcastId);
            
            const a = document.createElement('a');
            a.href = url;
            a.textContent = url;

            blockquote.appendChild(a);

            const broadcastDiv = document.createElement('div');
            broadcastDiv.className = 'broadcast-item';
            broadcastDiv.appendChild(blockquote);
            
            container.appendChild(broadcastDiv);
        });

        // Twitter widget script'ini yüklüyoruz.
        const script = document.createElement('script');
        script.async = true;
        script.src = "https://platform.twitter.com/widgets.js";
        script.charset = "utf-8";
        document.body.appendChild(script);
    });
</script>

</body>
</html>
 
