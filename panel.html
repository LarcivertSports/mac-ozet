<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yayın Ekleme Paneli</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container panel-container">
    <h1>Yeni Yayın Ekle</h1>
    <form id="addBroadcastForm">
        <label for="broadcastUrl">Twitter Canlı Yayın URL'si:</label>
        <input type="url" id="broadcastUrl" name="broadcastUrl" placeholder="https://x.com/i/broadcasts/..." required>
        <button type="submit">Yayını Ekle</button>
    </form>
    <p id="message" style="text-align:center; margin-top:15px;"></p>
</div>

<script>
    document.getElementById('addBroadcastForm').addEventListener('submit', function(event) {
        event.preventDefault();
        
        const urlInput = document.getElementById('broadcastUrl');
        const url = urlInput.value;
        const messageElement = document.getElementById('message');

        let broadcasts = JSON.parse(localStorage.getItem('broadcasts')) || [];
        
        // Aynı URL'nin tekrar eklenmesini engelle
        if (broadcasts.includes(url)) {
            messageElement.textContent = "Bu yayın zaten eklenmiş.";
            messageElement.style.color = "orange";
            return;
        }

        broadcasts.push(url);
        localStorage.setItem('broadcasts', JSON.stringify(broadcasts));
        
        messageElement.textContent = "Yayın başarıyla eklendi!";
        messageElement.style.color = "green";
        urlInput.value = '';
    });
</script>

</body>
</html>
